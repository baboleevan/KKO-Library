!function(t){"use strict";"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t,o){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!(!o||!o.bubbles),!(!o||!o.cancelable),o?o.details:null),n});var o=t.kko=function(){var t={},o={},n="storylink://posting?",e="1.0",i={android:"market://details?id=com.kakao.story",ios:"http://itunes.apple.com/app/id486244601"},a="com.kakao.story",r=!1,u=document.dispatchEvent,s=document.addEventListener,l=new CustomEvent("init"),c=new CustomEvent("login");s("init",function(){r=!0},!1);var d=function(t){var o=[];for(var n in t)t.hasOwnProperty(n)&&o.push(n+"="+encodeURIComponent(t[n]));return o.join("&")},k=function(t){Kakao.init(t),u(l)};return t.init=function(t){if(window.Kakao)k(t);else{var o=document.getElementsByTagName("body")[0],n=document.createElement("script");n.src="https://developers.kakao.com/sdk/js/kakao.min.js",n.addEventListener("load",function(){k(t)}),o.insertBefore(n,o.lastChild)}},t.on=function(t,o){s(t,o)},t.login=function(t,n){Kakao.Auth.login({success:function(n){Kakao.Auth.getStatus(function(t){o=t,Kakao.API.request({url:"/v1/api/story/isstoryuser"}).then(function(t){return o.isStoryUser=t.isStoryUser,o.isStoryUser?Kakao.API.request({url:"/v1/api/story/profile"}):void 0}).then(function(t){o.kakaoStoryProfile=t,u(c)})}),t&&t.call(null,n)},fail:function(t){n&&n.call(null,t)}})},t.logout=function(t){Kakao.Auth.logout(function(o){t.call(null,o)})},t.getInfo={status:function(){return"connected"===o.status?!0:!1},me:function(){if("connected"===o.status&&o.user){var t={};return t.id=o.user.id,t.kakaoStoryUser=o.isStoryUser,t.kakaoStoryUser&&void 0!==o.kakaoStoryProfile&&(t.kakaoStoryProfile=o.kakaoStoryProfile),Object.keys(o.user.properties).map(function(n){t[n]=o.user.properties[n]}),t}return!1}},t.talk={sendLink:function(t){void 0!==t.image&&(t.image.width=t.image.width||"300",t.image.height=t.image.height||"400"),Kakao.Link.sendTalkLink(t)}},t.story={sendLink:function(t,o,n,e){Kakao.Auth.login({success:function(){Kakao.API.request({url:"/v1/api/story/linkinfo",data:{url:t}}).then(function(t){var n={};return n.link_info=t,void 0!==o&&(n.content=o),Kakao.API.request({url:"/v1/api/story/post/link",data:n})}).then(function(t){return Kakao.API.request({url:"/v1/api/story/mystory",data:{id:t.id}})}).then(function(t){n&&n.call(null,t)})},fail:function(t){e&&e.call(null,t)}})},openSharer:function(t,o,n){var e="https://story.kakao.com/share?url=%url";t=encodeURIComponent(t),o=o||400,n=n||480,e=e.replace(/%url/,t),window.open(e,"","width="+o+",height="+n)},openApp:function(t,o,r,u){var s={};s.appId=t,s.apiver=e,s.post=u&&urlFist===!0?o+" "+r:r+" "+o;var l=n+d(s),c="intent:"+l+"#Intent;package="+a+";end;",k=daumtools.userAgent().os.android?i.android:i.ios;daumtools.web2app({urlScheme:l,intentURI:c,storeURL:k,appName:"KakaoStory"})}},t}();"object"==typeof window&&void 0===window.kko&&(window.kko=o)}(window.daumtools="undefined"==typeof window.daumtools?{}:window.daumtools);